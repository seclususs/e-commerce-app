<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Invoice #{{ order.id }}</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; line-height: 1.6; color: #333; }
        .invoice-box { max-width: 800px; margin: auto; padding: 30px; border: 1px solid #eee; box-shadow: 0 0 10px rgba(0, 0, 0, 0.15); font-size: 16px; }
        .invoice-header { display: flex; justify-content: space-between; margin-bottom: 40px; }
        .invoice-header .title { font-size: 45px; line-height: 45px; color: #333; font-weight: bold; }
        .invoice-details table { text-align: right; }
        .invoice-details table td { padding: 5px; vertical-align: top; }
        .address-section { display: flex; justify-content: space-between; margin-bottom: 40px; }
        .items-table { width: 100%; line-height: inherit; text-align: left; border-collapse: collapse; }
        .items-table td { padding: 8px; vertical-align: top; border-bottom: 1px solid #eee; }
        .items-table thead td { background: #eee; border-bottom: 1px solid #ddd; font-weight: bold; }
        .items-table .total td { border-top: 2px solid #eee; font-weight: bold; text-align: right; }
        .print-button { display: block; width: 100px; margin: 20px auto; padding: 10px; background: #3b82f6; color: white; border: none; border-radius: 5px; cursor: pointer; text-align: center; text-decoration: none; }
        @media print {
            body, .invoice-box { border: 0; box-shadow: none; margin: 0; padding: 0; }
            .print-button { display: none; }
        }
    </style>
</head>
<body>
    <div class="invoice-box">
        <div class="invoice-header">
            <div class="title">{{ content.app_name }}</div>
            <div class="invoice-details">
                <table>
                    <tr><td><strong>Invoice #:</strong></td><td>{{ order.id }}</td></tr>
                    <tr><td><strong>Tanggal Pesan:</strong></td><td>{{ order.order_date.split(' ')[0] }}</td></tr>
                    <tr><td><strong>Status:</strong></td><td>{{ order.status }}</td></tr>
                </table>
            </div>
        </div>

        <div class="address-section">
            <div>
                <strong>Ditagih Kepada:</strong><br>
                {{ order.shipping_name }}<br>
                {{ (order.email or 'Email tidak tersedia') }}<br>
                {{ order.shipping_phone }}
            </div>
            <div>
                <strong>Dikirim Ke:</strong><br>
                {{ order.shipping_address_line_1 }}<br>
                {% if order.shipping_address_line_2 %}{{ order.shipping_address_line_2 }}<br>{% endif %}
                {{ order.shipping_city }}, {{ order.shipping_province }} {{ order.shipping_postal_code }}
            </div>
        </div>

        <table class="items-table">
            <thead>
                <tr>
                    <td>Item</td>
                    <td style="text-align: center;">Jumlah</td>
                    <td style="text-align: right;">Harga</td>
                    <td style="text-align: right;">Subtotal</td>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td>{{ item.name }}</td>
                    <td style="text-align: center;">{{ item.quantity }}</td>
                    <td style="text-align: right;">{{ item.price|rupiah }}</td>
                    <td style="text-align: right;">{{ (item.price * item.quantity)|rupiah }}</td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr class="total">
                    <td colspan="3"><strong>Total</strong></td>
                    <td><strong>{{ order.total_amount|rupiah }}</strong></td>
                </tr>
            </tfoot>
        </table>
         <a href="#" onclick="window.print(); return false;" class="print-button">Cetak</a>
    </div>
</body>
</html>