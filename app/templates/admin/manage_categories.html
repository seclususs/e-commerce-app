{% extends "layouts/admin_layout.html" %}

{% block admintitle %}Manajemen Kategori{% endblock %}
{% block adminheader %}Manajemen Kategori Produk{% endblock %}

{% block admincontent %}
<div class="admin-card animated-element">
    <h3>Tambah Kategori Baru</h3>
    <form method="POST" action="{{ url_for('admin.admin_categories') }}" class="form-actions">
        <div class="form-group" style="flex-grow: 1; margin-bottom: 0;">
            <input type="text" id="name" name="name" placeholder="Nama Kategori Baru" required>
        </div>
        <button type="submit" name="action" value="add" class="cta-button">Tambah</button>
    </form>
</div>

<div class="admin-card animated-element" data-animation-delay="200">
    <h3>Daftar Kategori</h3>
    <div class="table-wrapper">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nama Kategori & Aksi</th>
                </tr>
            </thead>
            <tbody>
                {% for category in categories %}
                <tr>
                    <td data-label="ID:">{{ category.id }}</td>
                    <td data-label="Nama:">
                        <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                            <!-- Form for updating the category name -->
                            <form method="POST" action="{{ url_for('admin.admin_categories') }}" style="flex-grow: 1; display: flex; gap: 1rem; align-items: center;">
                                <input type="hidden" name="id" value="{{ category.id }}">
                                <input type="text" name="name" value="{{ category.name }}" class="form-control">
                                <button type="submit" name="action" value="edit" class="cta-button-secondary" style="border-color: var(--color-primary); color: var(--color-primary); white-space: nowrap;">Update</button>
                            </form>
                            <a href="{{ url_for('admin.delete_category', id=category.id) }}" class="action-link action-link-delete" style="white-space: nowrap;">Hapus</a>
                        </div>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="2" style="text-align: center;">Belum ada kategori.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}